<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>HADES ê´€ë¦¬ ì‹œìŠ¤í…œ v4.7</title>
    <style>
        :root { --bg: #f5f7fa; --card: #ffffff; --point: #ff4d94; --text: #333; --border: #e1e4e8; --success: #40c057; --vocal: #ff4d94; --dance: #ae3ec9; --visual: #4dadff; --variety: #fab005; --charm: #f06595; }
        body { background-color: var(--bg); color: var(--text); font-family: 'Pretendard', sans-serif; margin: 0; padding: 0; }
        
        .nav-bar { display: flex; background: white; border-bottom: 1px solid var(--border); position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .nav-btn { flex: 1; padding: 18px; border: none; background: transparent; color: #666; cursor: pointer; font-weight: bold; font-size: 15px; }
        .nav-btn.active { color: var(--point); border-bottom: 3px solid var(--point); }

        .container { max-width: 900px; margin: 20px auto; padding: 0 20px; }
        .page { display: none; }
        .page.active { display: block; }

        .card { background: var(--card); border: 1px solid var(--border); padding: 25px; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.03); position: relative; }
        .date-display { position: absolute; top: 20px; right: 25px; font-weight: bold; color: var(--point); font-size: 18px; }
        h2 { color: #222; font-size: 1.3rem; margin-top: 0; border-left: 4px solid var(--point); padding-left: 10px; margin-bottom: 20px; }
        
        /* ë©¤ë²„ ëŒ€ì‹œë³´ë“œ ê·¸ë¦¬ë“œ */
        .member-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 15px; }
        .member-card { background: white; border: 1px solid var(--border); border-radius: 12px; padding: 15px; transition: 0.2s; }
        .member-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; border-bottom: 1px solid #eee; padding-bottom: 8px; }
        .member-name { font-size: 1.1rem; font-weight: bold; }
        .member-status { font-size: 11px; padding: 2px 6px; border-radius: 4px; }

        /* ëŠ¥ë ¥ì¹˜ ê²Œì´ì§€ */
        .stat-row { display: flex; align-items: center; margin-bottom: 5px; font-size: 12px; }
        .stat-label { width: 45px; color: #777; font-weight: 500; }
        .stat-bar-bg { flex: 1; height: 6px; background: #eee; border-radius: 3px; overflow: hidden; margin: 0 8px; }
        .stat-bar-fill { height: 100%; border-radius: 3px; }
        .stat-value { width: 20px; text-align: right; font-weight: bold; }

        .fatigue-info { margin-top: 10px; font-size: 12px; text-align: right; color: #888; }
        .fatigue-bar { height: 4px; background: #eee; border-radius: 2px; margin-top: 4px; overflow: hidden; }

        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); backdrop-filter: blur(4px); }
        .modal-content { background: white; margin: 15% auto; padding: 30px; width: 320px; border-radius: 20px; text-align: center; position: relative; }
        
        .primary-btn { width: 100%; padding: 15px; background: var(--point); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 16px; margin-top: 10px; }
        .next-day-btn { background: var(--success); margin-top: 20px; }
        .log-box { background: #f9f9f9; padding: 15px; height: 150px; overflow-y: auto; font-size: 13px; color: #555; border: 1px solid var(--border); border-radius: 10px; }
    </style>
</head>
<body>

<div class="nav-bar">
    <button class="nav-btn active" onclick="openPage('home')">ğŸ“Š í™ˆ</button>
    <button class="nav-btn" onclick="openPage('members')">ğŸ‘¥ ë©¤ë²„í˜„í™©</button>
    <button class="nav-btn" onclick="openPage('schedule')">ğŸ“… ì§€ì‹œ</button>
</div>

<div class="container">
    <div id="home" class="page active">
        <div class="card">
            <div class="date-display">ìš´ì˜ <span id="current-day">1</span>ì¼ì°¨</div>
            <h2>í•˜ë°ìŠ¤ ìƒíƒœ ì½˜ì†”</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div><small>ë³´ìœ  ìì‚°</small><br><strong id="p-finance">45,000,000</strong></div>
                <div><small>ì¼€ë¡œ íŒ¬ë¤</small><br><strong id="p-fandom">12,405</strong></div>
            </div>
        </div>
        <div class="card">
            <h2>ìš´ì˜ ë¡œê·¸</h2>
            <div class="log-box" id="main-log">[ì‹œìŠ¤í…œ] v4.7 í•œëˆˆì— ë³´ëŠ” í˜„í™©íŒ ì‹œìŠ¤í…œ ê°€ë™.</div>
        </div>
        <button class="primary-btn next-day-btn" onclick="nextDay()">ğŸŒ™ ì˜¤ëŠ˜ ì¼ê³¼ ì¢…ë£Œ</button>
    </div>

    <div id="members" class="page">
        <h2>ì „ ë©¤ë²„ ëŠ¥ë ¥ì¹˜ í˜„í™© (ìµœëŒ€: 20)</h2>
        <div class="member-grid" id="member-grid-container"></div>
    </div>

    <div id="schedule" class="page">
        <div class="card">
            <h2>ì˜¤ëŠ˜ì˜ íŠ¸ë ˆì´ë‹</h2>
            <select id="sel-member" style="width:100%; padding:15px; margin-bottom: 10px; border: 1px solid var(--border); border-radius: 10px;">
                <option value="í‚¤ë§ˆ">í‚¤ë§ˆ</option><option value="ëµê·¤">ëµê·¤</option><option value="ì±ˆë‚˜">ì±ˆë‚˜</option><option value="ì†œì£¼ë¨¹">ì†œì£¼ë¨¹</option><option value="ì—°ì´ˆë¡">ì—°ì´ˆë¡</option>
            </select>
            <select id="sel-stat" style="width:100%; padding:15px; margin-bottom: 15px; border: 1px solid var(--border); border-radius: 10px;">
                <option value="vocal">ğŸ¤ ë³´ì»¬ ì§‘ì¤‘ í›ˆë ¨</option>
                <option value="dance">ğŸ’ƒ ëŒ„ìŠ¤ ì•ˆë¬´ ì—°ìŠµ</option>
                <option value="visual">âœ¨ ë¹„ì£¼ì–¼ ì¼€ì–´</option>
                <option value="variety">ğŸ—£ï¸ ì˜ˆëŠ¥ ìŠ¤í”¼ì¹˜</option>
                <option value="charm">ğŸ€ ë§¤ë ¥ ê°•í™”</option>
            </select>
            <button class="primary-btn" onclick="trainAction()">í›ˆë ¨ ì‹¤í–‰</button>
        </div>
    </div>
</div>

<div id="commonModal" class="modal">
    <div class="modal-content">
        <h2 id="modal-title">ì•Œë¦¼</h2>
        <div id="modal-body" style="margin: 20px 0;"></div>
        <button class="primary-btn" onclick="closeModal()">í™•ì¸</button>
    </div>
</div>

<script>
    let gameState = {
        day: 1, finance: 45000000, fandom: 12405,
        members: [
            {name: 'í‚¤ë§ˆ', type: 'ë³´ì»¬', vocal: 12, dance: 8, visual: 10, variety: 7, charm: 9, fatigue: 10, acted: false},
            {name: 'ëµê·¤', type: 'ë³´ì»¬', vocal: 13, dance: 7, visual: 9, variety: 8, charm: 10, fatigue: 10, acted: false},
            {name: 'ì±ˆë‚˜', type: 'ë°©ì†¡', vocal: 8, dance: 9, visual: 11, variety: 12, charm: 13, fatigue: 10, acted: false},
            {name: 'ì†œì£¼ë¨¹', type: 'ë°©ì†¡', vocal: 7, dance: 11, visual: 10, variety: 14, charm: 12, fatigue: 10, acted: false},
            {name: 'ì—°ì´ˆë¡', type: 'ë³´ì»¬', vocal: 12, dance: 9, visual: 12, variety: 6, charm: 11, fatigue: 10, acted: false}
        ]
    };

    function openPage(pageId) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
        event.currentTarget.classList.add('active');
        if(pageId === 'members') updateDisplay();
    }

    function updateDisplay() {
        document.getElementById('current-day').innerText = gameState.day;
        document.getElementById('p-finance').innerText = gameState.finance.toLocaleString();
        document.getElementById('p-fandom').innerText = gameState.fandom.toLocaleString();

        const container = document.getElementById('member-grid-container');
        container.innerHTML = gameState.members.map(m => `
            <div class="member-card">
                <div class="member-header">
                    <span class="member-name">${m.name}</span>
                    <span class="member-status" style="background:${m.acted?'#eee':'#e3f2ff'}; color:${m.acted?'#999':'#228be6'}">
                        ${m.acted ? 'ì™„ë£Œ' : 'ëŒ€ê¸°ì¤‘'}
                    </span>
                </div>
                ${renderStat('ë³´ì»¬', m.vocal, 'var(--vocal)')}
                ${renderStat('ëŒ„ìŠ¤', m.dance, 'var(--dance)')}
                ${renderStat('ë¹„ì£¼ì–¼', m.visual, 'var(--visual)')}
                ${renderStat('ì˜ˆëŠ¥', m.variety, 'var(--variety)')}
                ${renderStat('ë§¤ë ¥', m.charm, 'var(--charm)')}
                <div class="fatigue-info">í”¼ë¡œë„: ${m.fatigue}%</div>
                <div class="fatigue-bar"><div style="width:${m.fatigue}%; height:100%; background:${m.fatigue > 70 ? '#ff6b6b' : '#40c057'}"></div></div>
            </div>
        `).join('');
    }

    function renderStat(label, value, color) {
        const percent = (value / 20) * 100;
        return `
            <div class="stat-row">
                <div class="stat-label">${label}</div>
                <div class="stat-bar-bg"><div class="stat-bar-fill" style="width:${percent}%; background:${color}"></div></div>
                <div class="stat-value">${value}</div>
            </div>
        `;
    }

    function trainAction() {
        const name = document.getElementById('sel-member').value;
        const statKey = document.getElementById('sel-stat').value;
        const m = gameState.members.find(item => item.name === name);
        if(m.acted) { alert("ì˜¤ëŠ˜ì€ ì´ë¯¸ ì¼ì •ì„ ë§ˆì³¤ìŠµë‹ˆë‹¤."); return; }
        const gain = Math.floor(Math.random() * 2) + 1;
        m[statKey] = Math.min(20, m[statKey] + gain);
        m.fatigue += 20;
        m.acted = true;
        addLog(`[ì§€ì‹œ] ${name}ì˜ ${statKey} í›ˆë ¨ ì™„ë£Œ. (+${gain})`);
        updateDisplay();
        alert(`${name} í›ˆë ¨ ì™„ë£Œ!`);
    }

    function nextDay() {
        gameState.day++;
        gameState.finance -= 500000;
        gameState.members.forEach(m => { m.fatigue = Math.max(0, m.fatigue - 20); m.acted = false; });
        updateDisplay();
        addLog(`--- ${gameState.day}ì¼ì°¨ ì‹œì‘ ---`);
        showModal("â˜€ï¸ ìƒˆë¡œìš´ ì•„ì¹¨", `${gameState.day}ì¼ì°¨ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ë©¤ë²„ë“¤ì˜ í”¼ë¡œë„ê°€ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤.`);
    }

    function showModal(title, body) {
        document.getElementById('modal-title').innerText = title;
        document.getElementById('modal-body').innerHTML = body;
        document.getElementById('commonModal').style.display = 'block';
    }
    function closeModal() { document.getElementById('commonModal').style.display = 'none'; }
    function addLog(msg) {
        const log = document.getElementById('main-log');
        log.innerHTML += `<br>> ${msg}`;
        log.scrollTop = log.scrollHeight;
    }
    updateDisplay();
</script>
</body>
</html>
