<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>HADES ì‹œë®¬ë ˆì´ì…˜</title>
    <style>
        :root { --bg: #f5f7fa; --card: #ffffff; --point: #ff4d94; --text: #333; --border: #e1e4e8; --success: #40c057; }
        body { background-color: var(--bg); color: var(--text); font-family: 'Pretendard', sans-serif; margin: 0; padding: 0; }
        
        /* ë„¤ë¹„ê²Œì´ì…˜ */
        .nav-bar { display: flex; background: white; border-bottom: 1px solid var(--border); position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .nav-btn { flex: 1; padding: 18px; border: none; background: transparent; color: #666; cursor: pointer; font-weight: bold; font-size: 15px; }
        .nav-btn.active { color: var(--point); border-bottom: 3px solid var(--point); }

        .container { max-width: 800px; margin: 20px auto; padding: 0 20px; }
        .page { display: none; }
        .page.active { display: block; }

        /* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .card { background: var(--card); border: 1px solid var(--border); padding: 25px; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.03); position: relative; }
        .date-display { position: absolute; top: 20px; right: 25px; font-weight: bold; color: var(--point); font-size: 18px; }
        h2 { color: #222; font-size: 1.3rem; margin-top: 0; border-left: 4px solid var(--point); padding-left: 10px; }
        
        /* ë©¤ë²„ ì•„ì´í…œ */
        .member-item { display: flex; justify-content: space-between; align-items: center; padding: 15px; border: 1px solid var(--border); border-radius: 10px; margin-bottom: 10px; cursor: pointer; transition: 0.2s; }
        .member-item:hover { background: #fff0f6; border-color: var(--point); }
        .tag { padding: 4px 10px; border-radius: 20px; font-size: 12px; font-weight: bold; }
        .vocal-tag { background: #ffe3ed; color: #ff4d94; }
        .stream-tag { background: #e3f2ff; color: #4dadff; }

        /* íŒì—…(ëª¨ë‹¬) */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); backdrop-filter: blur(4px); }
        .modal-content { background: white; margin: 10% auto; padding: 30px; width: 320px; border-radius: 20px; text-align: center; position: relative; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        
        /* ë²„íŠ¼ */
        .primary-btn { width: 100%; padding: 15px; background: var(--point); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 16px; margin-top: 10px; transition: 0.2s; }
        .next-day-btn { background: var(--success); margin-top: 20px; font-size: 18px; border: 2px solid #fff; box-shadow: 0 4px 10px rgba(64, 192, 87, 0.3); }
        .primary-btn:hover { opacity: 0.9; transform: translateY(-2px); }

        .log-box { background: #f9f9f9; padding: 15px; height: 200px; overflow-y: auto; font-size: 13px; color: #555; border: 1px solid var(--border); border-radius: 10px; line-height: 1.6; }
    </style>
</head>
<body>

<div class="nav-bar">
    <button class="nav-btn active" onclick="openPage('home')">ğŸ“Š ëŒ€ì‹œë³´ë“œ</button>
    <button class="nav-btn" onclick="openPage('members')">ğŸ‘¥ ë©¤ë²„ ê´€ë¦¬</button>
    <button class="nav-btn" onclick="openPage('schedule')">ğŸ“… ì§€ì‹œ/ìŠ¤ì¼€ì¤„</button>
</div>

<div class="container">
    <div id="home" class="page active">
        <div class="card">
            <div class="date-display">ìš´ì˜ <span id="current-day">1</span>ì¼ì°¨</div>
            <h2>í•˜ë°ìŠ¤ ìƒíƒœ ì½˜ì†”</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px;">
                <div><small>ë¯¸ë˜ì‹œ ì˜¤ì°¨</small><br><strong id="p-error">0.02%</strong></div>
                <div><small>ë³´ìœ  ìì‚°</small><br><strong id="p-finance">45,000,000</strong></div>
                <div><small>ì¼€ë¡œ íŒ¬ë¤</small><br><strong id="p-fandom">12,405</strong></div>
                <div><small>í‰ê·  í”¼ë¡œë„</small><br><strong id="p-fatigue">15</strong>%</div>
            </div>
        </div>
        
        <div class="card">
            <h2>ë°ì¼ë¦¬ ë¡œê·¸</h2>
            <div class="log-box" id="main-log">
                [ì‹œìŠ¤í…œ] í•˜ë°ìŠ¤ í”„ë¡œì íŠ¸ ê°€ë™ ì‹œì‘...<br>
                [ì •ë³´] ëŒ€í‘œ ë´‰ì¤€ë‹˜, ì˜¤ëŠ˜ì˜ ì§€ì‹œë¥¼ ì´í–‰í•´ì£¼ì„¸ìš”.
            </div>
        </div>

        <button class="primary-btn next-day-btn" onclick="nextDay()">ğŸŒ™ í•˜ë£¨ ë§ˆë¬´ë¦¬í•˜ê³  ë‹¤ìŒ ë‚ ë¡œ</button>
    </div>

    <div id="members" class="page">
        <div class="card">
            <h2>ë©¤ë²„ ìƒì„¸ ì •ë³´</h2>
            <div id="member-list-container"></div>
        </div>
    </div>

    <div id="schedule" class="page">
        <div class="card">
            <h2>ì˜¤ëŠ˜ì˜ íŠ¸ë ˆì´ë‹ ì§€ì‹œ</h2>
            <select id="sel-member" style="width:100%; padding:15px; margin-bottom: 15px; border: 1px solid var(--border); border-radius: 10px;">
                <option value="í‚¤ë§ˆ">í‚¤ë§ˆ</option><option value="ëµê·¤">ëµê·¤</option><option value="ì±ˆë‚˜">ì±ˆë‚˜</option><option value="ì†œì£¼ë¨¹">ì†œì£¼ë¨¹</option><option value="ì—°ì´ˆë¡">ì—°ì´ˆë¡</option>
            </select>
            <button class="primary-btn" onclick="trainAction()">íŠ¸ë ˆì´ë‹ ì‹¤í–‰ (í”¼ë¡œë„+20)</button>
        </div>
    </div>
</div>

<div id="commonModal" class="modal">
    <div class="modal-content">
        <h2 id="modal-title">ì•Œë¦¼</h2>
        <div id="modal-body" style="margin: 20px 0; line-height: 1.5;"></div>
        <button class="primary-btn" onclick="closeModal()">í™•ì¸</button>
    </div>
</div>

<script>
    let gameState = {
        day: 1,
        error: 0.02,
        finance: 45000000,
        fandom: 12405,
        members: [
            {name: 'í‚¤ë§ˆ', type: 'ë³´ì»¬', vocal: 50, stream: 35, fatigue: 10, acted: false},
            {name: 'ëµê·¤', type: 'ë³´ì»¬', vocal: 55, stream: 28, fatigue: 10, acted: false},
            {name: 'ì±ˆë‚˜', type: 'ë°©ì†¡', vocal: 32, stream: 58, fatigue: 10, acted: false},
            {name: 'ì†œì£¼ë¨¹', type: 'ë°©ì†¡', vocal: 28, stream: 62, fatigue: 10, acted: false},
            {name: 'ì—°ì´ˆë¡', type: 'ë³´ì»¬', vocal: 52, stream: 30, fatigue: 10, acted: false}
        ]
    };

    function openPage(pageId) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
        event.currentTarget.classList.add('active');
    }

    function updateDisplay() {
        document.getElementById('current-day').innerText = gameState.day;
        document.getElementById('p-error').innerText = gameState.error.toFixed(2) + "%";
        document.getElementById('p-finance').innerText = gameState.finance.toLocaleString();
        document.getElementById('p-fandom').innerText = gameState.fandom.toLocaleString();
        
        let avgFatigue = gameState.members.reduce((acc, m) => acc + m.fatigue, 0) / 5;
        document.getElementById('p-fatigue').innerText = Math.floor(avgFatigue);

        const container = document.getElementById('member-list-container');
        container.innerHTML = gameState.members.map(m => `
            <div class="member-item" onclick="showMemberDetail('${m.name}')">
                <strong>${m.name}</strong>
                <span>${m.acted ? 'âœ…ì™„ë£Œ' : 'â³ëŒ€ê¸°'}</span>
                <span class="tag ${m.type === 'ë³´ì»¬' ? 'vocal-tag' : 'stream-tag'}">${m.type}</span>
            </div>
        `).join('');
    }

    function trainAction() {
        const name = document.getElementById('sel-member').value;
        const m = gameState.members.find(item => item.name === name);

        if(m.acted) {
            alert("í•´ë‹¹ ë©¤ë²„ëŠ” ì´ë¯¸ ì˜¤ëŠ˜ì˜ ì¼ì •ì„ ë§ˆì³¤ìŠµë‹ˆë‹¤.");
            return;
        }

        m.vocal += (m.type === 'ë³´ì»¬' ? 5 : 2);
        m.stream += (m.type === 'ë°©ì†¡' ? 5 : 2);
        m.fatigue += 20;
        m.acted = true;

        addLog(`[ì§€ì‹œ] ${name} íŠ¸ë ˆì´ë‹ ì™„ë£Œ. (ë³´ì»¬/ë°©ì†¡ ì‹¤ë ¥ í–¥ìƒ)`);
        updateDisplay();
        alert(`${name}ì˜ í›ˆë ¨ì´ ëë‚¬ìŠµë‹ˆë‹¤!`);
    }

    function nextDay() {
        gameState.day++;
        gameState.finance -= 500000; // ì¼ì¼ ìœ ì§€ë¹„
        
        gameState.members.forEach(m => {
            m.fatigue = Math.max(0, m.fatigue - 15); // ìê³  ì¼ì–´ë‚˜ë©´ í”¼ë¡œë„ ê°ì†Œ
            m.acted = false; // í–‰ë™ ê°€ëŠ¥ ìƒíƒœë¡œ ë¦¬ì…‹
        });

        updateDisplay();
        addLog(`--- ${gameState.day}ì¼ì°¨ ì•„ì¹¨ì´ ë°ì•˜ìŠµë‹ˆë‹¤. ---`);
        
        // ëŒë°œ ìƒí™© íŒì—…
        showModal("â˜€ï¸ ìƒˆë¡œìš´ í•˜ë£¨", `${gameState.day}ì¼ì°¨ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.<br>ìœ ì§€ë¹„ 50ë§Œ ì›ì´ ì°¨ê°ë˜ì—ˆê³ , ë©¤ë²„ë“¤ì˜ í”¼ë¡œë„ê°€ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤.`);
    }

    function showMemberDetail(name) {
        const m = gameState.members.find(item => item.name === name);
        showModal(`${m.name} ìƒì„¸ ì •ë³´`, `
            íŠ¹í™”: ${m.type}<br>
            ğŸ¤ ë³´ì»¬: ${m.vocal}<br>
            ğŸ“º ë°©ì†¡: ${m.stream}<br>
            ğŸ”‹ í”¼ë¡œë„: ${m.fatigue}%
        `);
    }

    function showModal(title, body) {
        document.getElementById('modal-title').innerText = title;
        document.getElementById('modal-body').innerHTML = body;
        document.getElementById('commonModal').style.display = 'block';
    }

    function closeModal() {
        document.getElementById('commonModal').style.display = 'none';
    }

    function addLog(msg) {
        const log = document.getElementById('main-log');
        log.innerHTML += `<br>> ${msg}`;
        log.scrollTop = log.scrollHeight;
    }

    updateDisplay();
</script>

</body>
</html>
