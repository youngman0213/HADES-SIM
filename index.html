<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>HADES ê´€ë¦¬ ì‹œìŠ¤í…œ v4.9</title>
    <style>
        :root { --bg: #f5f7fa; --card: #ffffff; --point: #ff4d94; --text: #333; --border: #e1e4e8; --success: #40c057; --vocal: #ff4d94; --dance: #ae3ec9; --visual: #4dadff; --variety: #fab005; --charm: #f06595; }
        body { background-color: var(--bg); color: var(--text); font-family: 'Pretendard', sans-serif; margin: 0; padding: 0; }
        
        .nav-bar { display: flex; background: white; border-bottom: 1px solid var(--border); position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .nav-btn { flex: 1; padding: 18px; border: none; background: transparent; color: #666; cursor: pointer; font-weight: bold; font-size: 15px; }
        .nav-btn.active { color: var(--point); border-bottom: 3px solid var(--point); }

        .container { max-width: 900px; margin: 20px auto; padding: 0 20px; }
        .page { display: none; }
        .page.active { display: block; }

        .card { background: var(--card); border: 1px solid var(--border); padding: 25px; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.03); position: relative; }
        .date-display { position: absolute; top: 20px; right: 25px; font-weight: bold; color: var(--point); font-size: 18px; }
        h2 { color: #222; font-size: 1.3rem; margin-top: 0; border-left: 4px solid var(--point); padding-left: 10px; margin-bottom: 20px; }
        
        /* ë‰´ìŠ¤/ì—¬ë¡  ë°•ìŠ¤ */
        .news-box { background: #fff9db; border: 1px solid #fab005; padding: 15px; border-radius: 10px; margin-bottom: 20px; font-size: 14px; }
        .comm-log { background: #000; color: #0f0; padding: 15px; height: 180px; overflow-y: auto; font-family: 'Courier New', monospace; font-size: 12px; border-radius: 10px; border: 2px solid #333; }
        .comm-msg { margin-bottom: 5px; }
        .comm-author { color: #ff4d94; font-weight: bold; }

        .member-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 15px; }
        .member-card { background: white; border: 1px solid var(--border); border-radius: 12px; padding: 15px; }
        .stat-row { display: flex; align-items: center; margin-bottom: 5px; font-size: 12px; }
        .stat-label { width: 45px; color: #777; }
        .stat-bar-bg { flex: 1; height: 6px; background: #eee; border-radius: 3px; overflow: hidden; margin: 0 8px; }
        .stat-bar-fill { height: 100%; border-radius: 3px; transition: 0.5s; }

        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); backdrop-filter: blur(4px); }
        .modal-content { background: white; margin: 10% auto; padding: 30px; width: 380px; border-radius: 20px; text-align: center; position: relative; }
        
        .primary-btn { width: 100%; padding: 15px; background: var(--point); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 16px; margin-top: 10px; }
        .choice-btn { background: #333; margin-top: 8px; font-size: 14px; }
    </style>
</head>
<body>

<div class="nav-bar">
    <button class="nav-btn active" onclick="openPage('home')">ğŸ“Š í™ˆ</button>
    <button class="nav-btn" onclick="openPage('members')">ğŸ‘¥ ë©¤ë²„í˜„í™©</button>
    <button class="nav-btn" onclick="openPage('schedule')">ğŸ“… ì§€ì‹œ</button>
</div>

<div class="container">
    <div id="home" class="page active">
        <div class="card">
            <div class="date-display">ìš´ì˜ <span id="current-day">1</span>ì¼ì°¨</div>
            <h2>í•˜ë°ìŠ¤ ìƒíƒœ ì½˜ì†”</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div><small>ë³´ìœ  ìì‚°</small><br><strong id="p-finance">45,000,000</strong></div>
                <div><small>ì¼€ë¡œ íŒ¬ë¤</small><br><strong id="p-fandom">12,405</strong></div>
            </div>
        </div>

        <div class="news-box" id="daily-news">
            <strong>[ì˜¤ëŠ˜ì˜ í—¤ë“œë¼ì¸]</strong><br>
            í•˜ë°ìŠ¤ í”„ë¡œì íŠ¸, ë³¸ê²©ì ì¸ ì‹œë®¬ë ˆì´ì…˜ ê°€ë™. ì—ë±€ì½”ë¦¬ì•„ ìœ ì €ë“¤ì´ ì£¼ëª©í•˜ê³  ìˆìŠµë‹ˆë‹¤.
        </div>

        <div class="card">
            <h2>ì»¤ë®¤ë‹ˆí‹° ë° ì—¬ë¡  (ì‹¤ì‹œê°„)</h2>
            <div class="comm-log" id="comm-log">
                <div class="comm-msg">[ì—ë±€ì½”ë¦¬ì•„] í•˜ë°ìŠ¤ ì–˜ë„¤ ì§„ì§œ ë²„ì¸„ì–¼ ë§ìŒ? í€„ë¦¬í‹° ë¯¸ì³¤ëŠ”ë°?</div>
                <div class="comm-msg">[íŒ¬ì¹´í˜] ì¼€ë¡œ 1ê¸° ê°€ì… ì–¸ì œë¶€í„°ì¸ê°€ìš”? ëŒ€í‘œë‹˜ ì¼í•˜ì„¸ìš”!</div>
            </div>
        </div>
        <button class="primary-btn" style="background: #40c057;" onclick="nextDay()">ğŸŒ™ ì˜¤ëŠ˜ ì¼ê³¼ ì¢…ë£Œ ë° ë‹¤ìŒ ë‚ ë¡œ</button>
    </div>

    <div id="members" class="page">
        <h2>ì „ ë©¤ë²„ ëŠ¥ë ¥ì¹˜ í˜„í™©</h2>
        <div class="member-grid" id="member-grid-container"></div>
    </div>

    <div id="schedule" class="page">
        <div class="card">
            <h2>íŠ¸ë ˆì´ë‹ ì§€ì‹œ</h2>
            <select id="sel-member" style="width:100%; padding:15px; margin-bottom: 10px; border: 1px solid var(--border); border-radius: 10px;"></select>
            <select id="sel-stat" style="width:100%; padding:15px; margin-bottom: 15px; border: 1px solid var(--border); border-radius: 10px;">
                <option value="vocal">ğŸ¤ ë³´ì»¬ ì§‘ì¤‘ í›ˆë ¨</option>
                <option value="dance">ğŸ’ƒ ëŒ„ìŠ¤ ì•ˆë¬´ ì—°ìŠµ</option>
                <option value="visual">âœ¨ ë¹„ì£¼ì–¼ ì¼€ì–´</option>
                <option value="variety">ğŸ—£ï¸ ì˜ˆëŠ¥ ìŠ¤í”¼ì¹˜</option>
                <option value="charm">ğŸ€ ë§¤ë ¥ ê°•í™”</option>
            </select>
            <button class="primary-btn" onclick="trainAction()">í›ˆë ¨ ì‹¤í–‰</button>
        </div>
    </div>
</div>

<div id="eventModal" class="modal">
    <div class="modal-content">
        <h2 id="event-title" style="color:var(--point);">ëŒë°œ ìƒí™© ë°œìƒ!</h2>
        <p id="event-desc" style="margin: 20px 0; line-height: 1.6;"></p>
        <div id="event-choices"></div>
    </div>
</div>

<script>
    let gameState = {
        day: 1, finance: 45000000, fandom: 12405,
        members: [
            {name: 'í‚¤ë§ˆ', vocal: 12, dance: 8, visual: 10, variety: 7, charm: 9, fatigue: 10, acted: false},
            {name: 'ëµê·¤', vocal: 13, dance: 7, visual: 9, variety: 8, charm: 10, fatigue: 10, acted: false},
            {name: 'ì±ˆë‚˜', vocal: 8, dance: 9, visual: 11, variety: 12, charm: 13, fatigue: 10, acted: false},
            {name: 'ì†œì£¼ë¨¹', vocal: 7, dance: 11, visual: 10, variety: 14, charm: 12, fatigue: 10, acted: false},
            {name: 'ì—°ì´ˆë¡', vocal: 12, dance: 9, visual: 12, variety: 6, charm: 11, fatigue: 10, acted: false}
        ]
    };

    const newsList = [
        "í•˜ë°ìŠ¤ ë©¤ë²„ì˜ ê³¼ê±° ì—°ìŠµ ì˜ìƒ ìœ ì¶œ? 'ì¤€ë¹„ëœ ì•„ì´ëŒ' ì°¬ì‚¬.",
        "ë²„ì¸„ì–¼ ê¸°ìˆ ë ¥ ë…¼ë€, 'ì´ê²Œ ì§„ì§œ ê°€ëŠ¥í•´?' ì—…ê³„ ì£¼ëª©.",
        "íŒ¬ì¹´í˜ íšŒì›ìˆ˜ ê¸‰ì¦! ì¼€ë¡œë“¤ì˜ í™”ë ¥ì´ ì‹¬ìƒì¹˜ ì•Šë‹¤.",
        "ëŒ€í‘œ ë´‰ì¤€, 'í•˜ë°ìŠ¤ëŠ” ë‹¨ìˆœí•œ ë²„ì¸„ì–¼ ê·¸ ì´ìƒ' ì¸í„°ë·° í™”ì œ."
    ];

    const commMsgs = [
        "[ì—ë±€ì½”ë¦¬ì•„] í‚¤ë§ˆ ëª©ì†Œë¦¬ ì‹¤í™”ëƒ... ê·¹ë½ ê°€ë„¤",
        "[íŒ¬ì¹´í˜] ì†œì£¼ë¨¹ë‹˜ ë°©ì†¡ í…ì…˜ ë¬´ì—‡ ã…‹ã…‹ã…‹ ê¿€ì¼",
        "[ì—ë±€ì½”ë¦¬ì•„] ì—°ì´ˆë¡ ë¹„ì£¼ì–¼ ëª¨ë¸ë§ ëˆ„ê°€ ë½‘ì•˜ëƒ ì ˆë°›ì•„ë¼",
        "[íŒ¬ì¹´í˜] ëµê·¤ë‹˜ ê³ ìŒ ì§€ë¥¼ ë•Œ ì†Œë¦„ ë‹ìŒ",
        "[ì—ë±€ì½”ë¦¬ì•„] ì±ˆë‚˜ ì˜ˆëŠ¥ê° ë¯¸ì³¤ë„¤, ê³µì¤‘íŒŒ ê°€ì",
        "[ì—ë±€ì½”ë¦¬ì•„] ì•„ë‹ˆ í•˜ë°ìŠ¤ êµ¿ì¦ˆ ì–¸ì œ ë‚˜ì˜´? ëˆ ì“°ê²Œ í•´ì¤˜"
    ];

    const events = [
        {
            title: "ê¸°ìˆ ì  ê²°í•¨ ë°œìƒ!",
            desc: "ë¼ì´ë¸Œ ë„ì¤‘ ëª¨ì…˜ íŠ¸ë˜í‚¹ì´ ì‹¬í•˜ê²Œ íŠ‘ë‹ˆë‹¤. íŒ¬ë“¤ì´ ë‹¹í™©í•˜ê³  ìˆìŠµë‹ˆë‹¤!",
            choices: [
                {text: "ìœ ë¨¸ë¡œ ìŠ¹í™”í•˜ì—¬ ì›ƒìŒì„ ì¤€ë‹¤", effect: () => { gameState.fandom += 100; addCommLog("ì—ë±€ì½”ë¦¬ì•„: ã…‹ã…‹ã…‹ã…‹ ê°œì›ƒê¸°ë„¤"); }},
                {text: "ì¦‰ì‹œ ë°©ì†¡ì„ ì¢…ë£Œí•˜ê³  ì‚¬ê³¼í•œë‹¤", effect: () => { gameState.finance -= 100000; addCommLog("íŒ¬ì¹´í˜: ìš´ì˜íŒ€ ì¼ ì˜í•˜ë„¤"); }}
            ]
        },
        {
            title: "ì»¤ë®¤ë‹ˆí‹° ë°”ì´ëŸ´ ì„±ê³µ!",
            desc: "ë©¤ë²„ì˜ ì§§ì€ ì˜ìƒì´ ì‡¼ì¸ ì—ì„œ ëŒ€ë°•ì´ ë‚¬ìŠµë‹ˆë‹¤. ìœ ì…ì´ ëª°ë ¤ì˜µë‹ˆë‹¤!",
            choices: [
                {text: "ê³µì‹ ê³„ì •ìœ¼ë¡œ ë…¸ë¥¼ ì “ëŠ”ë‹¤", effect: () => { gameState.fandom += 1000; addCommLog("ì—ë±€ì½”ë¦¬ì•„: ë–¡ìƒ ê°€ì¦ˆì•„!"); }},
                {text: "ì‹ ë¹„ì£¼ì˜ë¥¼ ìœ ì§€í•˜ë©° ë‹¤ìŒì„ ê¸°ì•½í•œë‹¤", effect: () => { gameState.fandom += 200; addCommLog("íŒ¬ì¹´í˜: ì—­ì‹œ ê·¼ë³¸ ì•„ì´ëŒ"); }}
            ]
        }
    ];

    function openPage(pageId) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
        event.currentTarget.classList.add('active');
        updateDisplay();
    }

    function updateDisplay() {
        document.getElementById('current-day').innerText = gameState.day;
        document.getElementById('p-finance').innerText = gameState.finance.toLocaleString();
        document.getElementById('p-fandom').innerText = gameState.fandom.toLocaleString();
        
        const sel = document.getElementById('sel-member');
        if(sel.options.length === 0) {
            gameState.members.forEach(m => {
                let opt = document.createElement('option'); opt.value = m.name; opt.innerText = m.name;
                sel.appendChild(opt);
            });
        }

        const container = document.getElementById('member-grid-container');
        if(container) {
            container.innerHTML = gameState.members.map(m => `
                <div class="member-card">
                    <div style="display:flex; justify-content:space-between;"><strong>${m.name}</strong><small>${m.acted?'ì™„ë£Œ':'ëŒ€ê¸°'}</small></div>
                    <hr border="0" height="1px" background="#eee">
                    ${renderStat('ë³´ì»¬', m.vocal, 'var(--vocal)')}
                    ${renderStat('ëŒ„ìŠ¤', m.dance, 'var(--dance)')}
                    ${renderStat('ë¹„ì£¼ì–¼', m.visual, 'var(--visual)')}
                    ${renderStat('ì˜ˆëŠ¥', m.variety, 'var(--variety)')}
                    ${renderStat('ë§¤ë ¥', m.charm, 'var(--charm)')}
                    <div style="font-size:11px; text-align:right; margin-top:5px; color:#888;">í”¼ë¡œë„: ${m.fatigue}%</div>
                </div>
            `).join('');
        }
    }

    function renderStat(label, value, color) {
        return `<div class="stat-row"><div class="stat-label">${label}</div><div class="stat-bar-bg"><div class="stat-bar-fill" style="width:${(value/20)*100}%; background:${color}"></div></div></div>`;
    }

    function trainAction() {
        const name = document.getElementById('sel-member').value;
        const statKey = document.getElementById('sel-stat').value;
        const m = gameState.members.find(item => item.name === name);
        if(m.acted) { alert("ì´ë¯¸ ì¼ê³¼ë¥¼ ë§ˆì³¤ìŠµë‹ˆë‹¤."); return; }
        m[statKey] = Math.min(20, m[statKey] + 1);
        m.fatigue += 20; m.acted = true;
        updateDisplay();
        alert(`${name}ì˜ íŠ¸ë ˆì´ë‹ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.`);
    }

    function nextDay() {
        gameState.day++;
        gameState.finance -= 500000;
        gameState.members.forEach(m => { m.fatigue = Math.max(0, m.fatigue - 20); m.acted = false; });
        
        // ë‰´ìŠ¤ ë³€ê²½
        document.getElementById('daily-news').innerHTML = `<strong>[ì˜¤ëŠ˜ì˜ í—¤ë“œë¼ì¸]</strong><br>${newsList[Math.floor(Math.random()*newsList.length)]}`;
        
        // ì»¤ë®¤ë‹ˆí‹° ë¡œê·¸ ì¶”ê°€
        addCommLog(commMsgs[Math.floor(Math.random()*commMsgs.length)]);

        // 30% í™•ë¥ ë¡œ ëŒë°œ ìƒí™© ë°œìƒ
        if(Math.random() < 0.4) {
            const ev = events[Math.floor(Math.random()*events.length)];
            triggerEvent(ev);
        }

        updateDisplay();
        openPage('home');
    }

    function triggerEvent(ev) {
        document.getElementById('event-title').innerText = ev.title;
        document.getElementById('event-desc').innerText = ev.desc;
        const container = document.getElementById('event-choices');
        container.innerHTML = '';
        ev.choices.forEach(c => {
            const btn = document.createElement('button');
            btn.className = "primary-btn choice-btn";
            btn.innerText = c.text;
            btn.onclick = () => { c.effect(); closeModal(); updateDisplay(); };
            container.appendChild(btn);
        });
        document.getElementById('eventModal').style.display = 'block';
    }

    function addCommLog(msg) {
        const log = document.getElementById('comm-log');
        const div = document.createElement('div');
        div.className = 'comm-msg';
        div.innerText = msg;
        log.prepend(div);
    }

    function closeModal() { document.getElementById('eventModal').style.display = 'none'; }
    updateDisplay();
</script>
</body>
</html>
